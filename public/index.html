<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Barrage</title>
  <link rel="stylesheet" href="/css/style.css">
</head>
<body>
  <div id="join-screen">
    <div class="title-barrage">
      <span class="barrage-letter" style="--i:0">B</span>
      <span class="barrage-letter" style="--i:1">A</span>
      <span class="barrage-letter" style="--i:2">R</span>
      <span class="barrage-letter" style="--i:3">R</span>
      <span class="barrage-letter" style="--i:4">A</span>
      <span class="barrage-letter" style="--i:5">G</span>
      <span class="barrage-letter" style="--i:6">E</span>
    </div>
    <p class="subtitle">Grow. Shoot. Dominate.</p>
    <div class="join-form">
      <label for="name-input">Name</label>
      <input type="text" id="name-input" maxlength="16" placeholder="Enter your name" autocomplete="off">
      <label for="catchphrase-input">Killshot Catchphrase</label>
      <input type="text" id="catchphrase-input" maxlength="40" placeholder="e.g. Get rekt!" autocomplete="off">
      <label>Tank Color</label>
      <div class="color-swatches" id="color-swatches"></div>
      <input type="hidden" id="color-input" value="#00e5ff">
      <button id="play-btn">PLAY</button>
    </div>
  </div>

  <canvas id="game-canvas"></canvas>

  <div id="death-overlay">
    <h2>YOU DIED</h2>
    <p id="death-message"></p>
    <div class="death-stats" id="death-stats"></div>
    <button id="respawn-btn">RESPAWN</button>
  </div>

  <script>
    (function() {
      const NEON_COLORS = [
        '#00e5ff', '#00ff88', '#ff00ff', '#ff3366',
        '#ffff00', '#ff6600', '#00ff00', '#ff0066',
        '#00ffff', '#ff4444', '#66ff00', '#ff00aa',
        '#44ffcc', '#ff8800', '#aa00ff', '#00ffaa',
      ];
      const swatches = document.getElementById('color-swatches');
      const colorInput = document.getElementById('color-input');
      const startIdx = Math.floor(Math.random() * NEON_COLORS.length);

      NEON_COLORS.forEach((color, i) => {
        const swatch = document.createElement('div');
        swatch.className = 'color-swatch';
        swatch.style.backgroundColor = color;
        swatch.dataset.color = color;
        if (i === startIdx) {
          swatch.classList.add('selected');
          colorInput.value = color;
        }
        swatch.addEventListener('click', () => {
          document.querySelectorAll('.color-swatch').forEach(s => s.classList.remove('selected'));
          swatch.classList.add('selected');
          colorInput.value = color;
        });
        swatches.appendChild(swatch);
      });
    })();
  </script>
  <script src="/shared/constants.js"></script>
  <script src="/js/Camera.js"></script>
  <script src="/js/Input.js"></script>
  <script src="/js/ParticleSystem.js"></script>
  <script src="/js/TankRenderer.js"></script>
  <script src="/js/HUD.js"></script>
  <script src="/js/Renderer.js"></script>
  <script src="/js/Network.js"></script>
  <script src="/js/Interpolation.js"></script>
  <script src="/js/main.js"></script>
</body>
</html>
